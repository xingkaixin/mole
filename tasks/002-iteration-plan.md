# 数据探查工具 - 迭代开发计划

## 迭代顺序

### 第一阶段：MVP核心功能 + 基础规则架构
**文档**: 002-001-mvp-core.md + 002-005-rule-system-architecture.md
- ✅ 数据库连接和表清单获取
- ✅ 基础规则系统架构
- ✅ 数据总量规则 (RowCountRule)
- ✅ 空值率规则 (NullRateRule)
- ✅ 基础进度条和结果展示

### 第二阶段：唯一性检查扩展
**文档**: 002-002-uniqueness-check.md
- ✅ 单字段唯一性规则 (UniquenessRule)
- ✅ 重复值统计和展示
- ✅ 内存优化的大表处理

### 第三阶段：多数据库支持
**文档**: 002-003-multi-db-support.md
- ✅ PostgreSQL数据库支持
- ✅ 数据库类型抽象层
- ✅ 统一的数据访问接口

### 第四阶段：高级功能
**文档**: 002-004-advanced-features.md
- ✅ 报告导出 (JSON, CSV)
- ✅ 多字段组合唯一性检查
- ✅ 并发处理和性能优化

## 架构设计原则

### 1. 规则优先架构
- MVP阶段就建立规则系统基础
- 所有检查都通过规则接口实现
- 支持动态规则注册和配置

### 2. 数据流设计
```
用户配置 → 连接测试 → 获取表清单 → 配置规则 → 执行分析 → 显示进度 → 生成报告
```

### 3. 扩展性考虑
- 规则接口支持任意类型的检查
- 数据库抽象层支持多种数据库
- 配置系统支持复杂规则参数

## 技术决策

### 后端 (Go)
- 使用 `database/sql` 标准接口
- 规则系统采用插件架构
- 流式数据处理避免内存溢出

### 前端 (React)
- 动态规则配置表单
- 实时进度显示
- 结果可视化展示

## 风险控制
- MVP阶段只实现核心规则，避免过度设计
- 大表处理采用流式读取，内存可控
- 错误处理机制确保系统稳定性